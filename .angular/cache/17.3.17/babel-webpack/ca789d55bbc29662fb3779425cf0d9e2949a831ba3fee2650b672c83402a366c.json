{"ast":null,"code":"import { inject } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { MatTableDataSource, MatTableModule } from '@angular/material/table';\nimport { MatPaginator, MatPaginatorModule } from '@angular/material/paginator';\nimport { MatSort, MatSortModule } from '@angular/material/sort';\nimport { MatFormFieldModule } from '@angular/material/form-field';\nimport { MatInputModule } from '@angular/material/input';\nimport { MatButtonModule } from '@angular/material/button';\nimport { ContratosApi } from '../../../shared/services/contratos.api';\nimport { RouterLink } from '@angular/router';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common\";\nimport * as i2 from \"@angular/material/table\";\nimport * as i3 from \"@angular/material/paginator\";\nimport * as i4 from \"@angular/material/sort\";\nimport * as i5 from \"@angular/material/form-field\";\nimport * as i6 from \"@angular/material/input\";\nimport * as i7 from \"@angular/material/button\";\nconst _c0 = () => [5, 10, 25];\nfunction ContratosListComponent_table_10_th_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 16);\n    i0.ɵɵtext(1, \"N\\u00FAmero\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ContratosListComponent_table_10_td_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 17);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const c_r1 = ctx.$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(c_r1.identificacao == null ? null : c_r1.identificacao.numero);\n  }\n}\nfunction ContratosListComponent_table_10_th_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 16);\n    i0.ɵɵtext(1, \"Ano\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ContratosListComponent_table_10_td_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 17);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const c_r2 = ctx.$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(c_r2.identificacao == null ? null : c_r2.identificacao.ano);\n  }\n}\nfunction ContratosListComponent_table_10_th_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 16);\n    i0.ɵɵtext(1, \"Objeto\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ContratosListComponent_table_10_td_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 17);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const c_r3 = ctx.$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(c_r3.identificacao == null ? null : c_r3.identificacao.objeto);\n  }\n}\nfunction ContratosListComponent_table_10_th_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 16);\n    i0.ɵɵtext(1, \"Status\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ContratosListComponent_table_10_td_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 17);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const c_r4 = ctx.$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(c_r4.status);\n  }\n}\nfunction ContratosListComponent_table_10_tr_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tr\", 18);\n  }\n}\nfunction ContratosListComponent_table_10_tr_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tr\", 19);\n  }\n}\nfunction ContratosListComponent_table_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"table\", 7);\n    i0.ɵɵelementContainerStart(1, 8);\n    i0.ɵɵtemplate(2, ContratosListComponent_table_10_th_2_Template, 2, 0, \"th\", 9)(3, ContratosListComponent_table_10_td_3_Template, 2, 1, \"td\", 10);\n    i0.ɵɵelementContainerEnd();\n    i0.ɵɵelementContainerStart(4, 11);\n    i0.ɵɵtemplate(5, ContratosListComponent_table_10_th_5_Template, 2, 0, \"th\", 9)(6, ContratosListComponent_table_10_td_6_Template, 2, 1, \"td\", 10);\n    i0.ɵɵelementContainerEnd();\n    i0.ɵɵelementContainerStart(7, 12);\n    i0.ɵɵtemplate(8, ContratosListComponent_table_10_th_8_Template, 2, 0, \"th\", 9)(9, ContratosListComponent_table_10_td_9_Template, 2, 1, \"td\", 10);\n    i0.ɵɵelementContainerEnd();\n    i0.ɵɵelementContainerStart(10, 13);\n    i0.ɵɵtemplate(11, ContratosListComponent_table_10_th_11_Template, 2, 0, \"th\", 9)(12, ContratosListComponent_table_10_td_12_Template, 2, 1, \"td\", 10);\n    i0.ɵɵelementContainerEnd();\n    i0.ɵɵtemplate(13, ContratosListComponent_table_10_tr_13_Template, 1, 0, \"tr\", 14)(14, ContratosListComponent_table_10_tr_14_Template, 1, 0, \"tr\", 15);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"dataSource\", ctx_r4.dataSource);\n    i0.ɵɵadvance(13);\n    i0.ɵɵproperty(\"matHeaderRowDef\", ctx_r4.displayedColumns);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"matRowDefColumns\", ctx_r4.displayedColumns);\n  }\n}\nexport let ContratosListComponent = /*#__PURE__*/(() => {\n  class ContratosListComponent {\n    constructor() {\n      this.api = inject(ContratosApi);\n      this.dataSource = new MatTableDataSource([]);\n      this.displayedColumns = ['numero', 'ano', 'objeto', 'status'];\n    }\n    ngAfterViewInit() {\n      this.api.listContratos().subscribe(list => {\n        this.dataSource = new MatTableDataSource(list);\n        this.dataSource.paginator = this.paginator;\n        this.dataSource.sort = this.sort;\n        this.dataSource.filterPredicate = (data, filter) => {\n          const term = filter.trim().toLowerCase();\n          const numero = data.identificacao?.numero?.toLowerCase() || '';\n          const objeto = data.identificacao?.objeto?.toLowerCase() || '';\n          const status = (data.status || '').toLowerCase();\n          return numero.includes(term) || objeto.includes(term) || status.includes(term);\n        };\n      });\n    }\n    applyFilter(event) {\n      const input = event.target;\n      this.dataSource.filter = input.value.trim().toLowerCase();\n      if (this.dataSource.paginator) this.dataSource.paginator.firstPage();\n    }\n    static {\n      this.ɵfac = function ContratosListComponent_Factory(t) {\n        return new (t || ContratosListComponent)();\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: ContratosListComponent,\n        selectors: [[\"app-contratos-list\"]],\n        viewQuery: function ContratosListComponent_Query(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵviewQuery(MatPaginator, 5);\n            i0.ɵɵviewQuery(MatSort, 5);\n          }\n          if (rf & 2) {\n            let _t;\n            i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.paginator = _t.first);\n            i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.sort = _t.first);\n          }\n        },\n        standalone: true,\n        features: [i0.ɵɵStandaloneFeature],\n        decls: 12,\n        vars: 4,\n        consts: [[1, \"container\"], [1, \"actions\"], [\"mat-stroked-button\", \"\", \"color\", \"primary\", \"routerLink\", \"/contratos\"], [\"appearance\", \"outline\", 2, \"margin-left\", \"auto\", \"max-width\", \"320px\"], [\"matInput\", \"\", \"placeholder\", \"pesquisar por n\\u00FAmero, objeto, status...\", 3, \"keyup\"], [\"mat-table\", \"\", \"matSort\", \"\", \"class\", \"mat-elevation-z1\", 3, \"dataSource\", 4, \"ngIf\"], [\"aria-label\", \"Pagina\\u00E7\\u00E3o\", 3, \"pageSize\", \"pageSizeOptions\"], [\"mat-table\", \"\", \"matSort\", \"\", 1, \"mat-elevation-z1\", 3, \"dataSource\"], [\"matColumnDef\", \"numero\"], [\"mat-header-cell\", \"\", \"mat-sort-header\", \"\", 4, \"matHeaderCellDef\"], [\"mat-cell\", \"\", 4, \"matCellDef\"], [\"matColumnDef\", \"ano\"], [\"matColumnDef\", \"objeto\"], [\"matColumnDef\", \"status\"], [\"mat-header-row\", \"\", 4, \"matHeaderRowDef\"], [\"mat-row\", \"\", 4, \"matRowDef\", \"matRowDefColumns\"], [\"mat-header-cell\", \"\", \"mat-sort-header\", \"\"], [\"mat-cell\", \"\"], [\"mat-header-row\", \"\"], [\"mat-row\", \"\"]],\n        template: function ContratosListComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelementStart(0, \"div\", 0)(1, \"h2\");\n            i0.ɵɵtext(2, \"Meus Contratos\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(3, \"div\", 1)(4, \"a\", 2);\n            i0.ɵɵtext(5, \"Novo Contrato\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(6, \"mat-form-field\", 3)(7, \"mat-label\");\n            i0.ɵɵtext(8, \"Filtrar\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(9, \"input\", 4);\n            i0.ɵɵlistener(\"keyup\", function ContratosListComponent_Template_input_keyup_9_listener($event) {\n              return ctx.applyFilter($event);\n            });\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵtemplate(10, ContratosListComponent_table_10_Template, 15, 3, \"table\", 5);\n            i0.ɵɵelement(11, \"mat-paginator\", 6);\n            i0.ɵɵelementEnd();\n          }\n          if (rf & 2) {\n            i0.ɵɵadvance(10);\n            i0.ɵɵproperty(\"ngIf\", ctx.dataSource);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"pageSize\", 5)(\"pageSizeOptions\", i0.ɵɵpureFunction0(3, _c0));\n          }\n        },\n        dependencies: [CommonModule, i1.NgIf, RouterLink, MatTableModule, i2.MatTable, i2.MatHeaderCellDef, i2.MatHeaderRowDef, i2.MatColumnDef, i2.MatCellDef, i2.MatRowDef, i2.MatHeaderCell, i2.MatCell, i2.MatHeaderRow, i2.MatRow, MatPaginatorModule, i3.MatPaginator, MatSortModule, i4.MatSort, i4.MatSortHeader, MatFormFieldModule, i5.MatFormField, i5.MatLabel, MatInputModule, i6.MatInput, MatButtonModule, i7.MatAnchor],\n        styles: [\".container[_ngcontent-%COMP%]{padding:16px}.actions[_ngcontent-%COMP%]{display:flex;gap:12px;margin:12px 0}\"]\n      });\n    }\n  }\n  return ContratosListComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}